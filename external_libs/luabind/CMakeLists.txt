set(LLVM_REQUIRES_RTTI 1)
set(LLVM_REQUIRES_EH 1)

file(GLOB_RECURSE ALL_LUABIND_SOURCES globbing "src/*.cpp")

add_llvm_library(Luabind ${ALL_LUABIND_SOURCES})

#add_definitions( -DLUABIND_NO_RTTI )
#add_definitions( -DLUABIND_NO_EXCEPTIONS )

set(LUABIND_INCLUDE_DIR "${CMAKE_CURRENT_SOURCE_DIR}")
set_property(GLOBAL PROPERTY LUABIND_INCLUDE_DIR "${CMAKE_CURRENT_SOURCE_DIR}")
set_property(GLOBAL PROPERTY LUABIND_LIBRARY "Luabind")

get_property(BOOST_INCLUDE_DIR GLOBAL PROPERTY BOOST_INCLUDE_DIR)

include_directories(
  ${BOOST_INCLUDE_DIR}
  ${LUA_INCLUDE_DIR}
  ${LUABIND_INCLUDE_DIR}
  ${LUABIND_INCLUDE_DIR}/luabind
)
